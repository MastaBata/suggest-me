{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import s from\"./Pixabay.module.scss\";import style from\"../../assets/styles/global.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY=\"33820634-ed077e12e4cbb046d502a8152\";var Pixabay=function Pixabay(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var timer=useRef(null);var getImages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(value){var response,_yield$response$json,hits;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://pixabay.com/api/?key=\".concat(API_KEY,\"&q=\").concat(value,\"&image_type=photo\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:_yield$response$json=_context.sent;hits=_yield$response$json.hits;setImages(hits);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"Catch error :\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function getImages(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getImages(\"dog\");return function(){console.log(\"Unmount component\");};},[]);var handleChange=function handleChange(e){var value=e.target.value;clearTimeout(timer.current);timer.current=setTimeout(function(){getImages(value);},1000);};return/*#__PURE__*/_jsx(\"div\",{className:style.container,children:/*#__PURE__*/_jsxs(\"div\",{className:s.pixabay_container,children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange}),/*#__PURE__*/_jsx(\"ul\",{className:s.list,children:images.map(function(image){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:image.webformatURL,alt:\"animals\"})},image.id);})})]})});};export default Pixabay;","map":{"version":3,"names":["useEffect","useRef","useState","s","style","API_KEY","Pixabay","images","setImages","timer","getImages","value","fetch","response","json","hits","console","log","handleChange","e","target","clearTimeout","current","setTimeout","container","pixabay_container","list","map","image","webformatURL","id"],"sources":["C:/Users/babci/OneDrive/Документы/GitHub/suggest-me/src/Pages/Pixabay/Pixabay.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport s from \"./Pixabay.module.scss\";\r\nimport style from \"../../assets/styles/global.scss\";\r\n\r\nconst API_KEY = \"33820634-ed077e12e4cbb046d502a8152\";\r\n\r\nconst Pixabay = () => {\r\n    const [images, setImages] = useState([]);\r\n    const timer = useRef(null);\r\n\r\n    const getImages = async (value) => {\r\n        try {\r\n            const response = await fetch(\r\n                `https://pixabay.com/api/?key=${API_KEY}&q=${value}&image_type=photo`\r\n            );\r\n            const { hits } = await response.json();\r\n            setImages(hits);\r\n        } catch (error) {\r\n            console.log(\"Catch error :\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getImages(\"dog\");\r\n\r\n        return () => {\r\n            console.log(\"Unmount component\");\r\n        };\r\n    }, []);\r\n\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n\r\n        clearTimeout(timer.current);\r\n\r\n        timer.current = setTimeout(() => {\r\n            getImages(value);\r\n        }, 1000);\r\n    };\r\n\r\n    return (\r\n        <div className={style.container}>\r\n        <div className={s.pixabay_container}>\r\n            <input onChange={handleChange} />\r\n            <ul className={s.list}>\r\n                {images.map((image) => {\r\n                    return (\r\n                        <li key={image.id}>\r\n                            <img src={image.webformatURL} alt=\"animals\" />\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Pixabay;"],"mappings":"kjBAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAOC,EAAC,KAAM,uBAAuB,CACrC,MAAOC,MAAK,KAAM,iCAAiC,CAAC,wFAEpD,GAAMC,QAAO,CAAG,oCAAoC,CAEpD,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClB,cAA4BJ,QAAQ,CAAC,EAAE,CAAC,wCAAjCK,MAAM,eAAEC,SAAS,eACxB,GAAMC,MAAK,CAAGR,MAAM,CAAC,IAAI,CAAC,CAE1B,GAAMS,UAAS,4FAAG,iBAAOC,KAAK,gMAECC,MAAK,wCACQP,OAAO,eAAMM,KAAK,sBACrD,QAFKE,QAAQ,qCAGSA,SAAQ,CAACC,IAAI,EAAE,2CAA9BC,IAAI,sBAAJA,IAAI,CACZP,SAAS,CAACO,IAAI,CAAC,CAAC,iFAEhBC,OAAO,CAACC,GAAG,CAAC,eAAe,aAAQ,CAAC,oEAE3C,kBAVKP,UAAS,4CAUd,CAEDV,SAAS,CAAC,UAAM,CACZU,SAAS,CAAC,KAAK,CAAC,CAEhB,MAAO,WAAM,CACTM,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CACpC,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxB,GAAMR,MAAK,CAAGQ,CAAC,CAACC,MAAM,CAACT,KAAK,CAE5BU,YAAY,CAACZ,KAAK,CAACa,OAAO,CAAC,CAE3Bb,KAAK,CAACa,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC7Bb,SAAS,CAACC,KAAK,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACZ,CAAC,CAED,mBACI,YAAK,SAAS,CAAEP,KAAK,CAACoB,SAAU,uBAChC,aAAK,SAAS,CAAErB,CAAC,CAACsB,iBAAkB,wBAChC,cAAO,QAAQ,CAAEP,YAAa,EAAG,cACjC,WAAI,SAAS,CAAEf,CAAC,CAACuB,IAAK,UACjBnB,MAAM,CAACoB,GAAG,CAAC,SAACC,KAAK,CAAK,CACnB,mBACI,iCACI,YAAK,GAAG,CAAEA,KAAK,CAACC,YAAa,CAAC,GAAG,CAAC,SAAS,EAAG,EADzCD,KAAK,CAACE,EAAE,CAEZ,CAEb,CAAC,CAAC,EACD,GACH,EACA,CAEd,CAAC,CAED,cAAexB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}