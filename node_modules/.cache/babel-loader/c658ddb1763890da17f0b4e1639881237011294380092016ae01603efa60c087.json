{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import style from\"./Home.module.scss\";import Card from\"../../Widget/Card/Card\";import Title from\"../../Widget/Title/Title\";import Input from\"../../Widget/Input/Input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(\"Any\"),_useState4=_slicedToArray(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];var getMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://practice-lib.onrender.com/movie/list\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setMovies(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"Catch error :\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getMovies(){return _ref.apply(this,arguments);};}();var getMoviesForQuery=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(value){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://practice-lib.onrender.com/movie/list/\".concat(value));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setMovies(data);console.log(data);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function getMoviesForQuery(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getMovies();},[]);var handleInput=function handleInput(e){var value=e.target.id;setInputValue(value);getMoviesForQuery(value);};return/*#__PURE__*/_jsx(\"div\",{className:style.container,children:/*#__PURE__*/_jsxs(\"div\",{className:style.content,children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(\"div\",{className:style.input_checker,children:/*#__PURE__*/_jsx(Input,{onChange:handleInput,value:inputValue})}),/*#__PURE__*/_jsx(\"div\",{className:style.list_info,children:inputValue}),/*#__PURE__*/_jsx(\"ul\",{className:style.list,children:movies.map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"details/\".concat(item._id),children:/*#__PURE__*/_jsx(Card,{data:item})})},item._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:style.bottom,children:[/*#__PURE__*/_jsx(\"div\",{children:\"Didin\\u2019t find the one you looking for?\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Suggest more\"})]})]})});};export default Home;","map":{"version":3,"names":["useEffect","useState","Link","style","Card","Title","Input","Home","movies","setMovies","inputValue","setInputValue","getMovies","fetch","response","json","data","console","log","getMoviesForQuery","value","handleInput","e","target","id","container","content","input_checker","list_info","list","map","item","_id","bottom"],"sources":["C:/Users/babci/OneDrive/Документы/GitHub/suggest-me/src/Pages/Home/Home.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport style from \"./Home.module.scss\";\r\nimport Card from \"../../Widget/Card/Card\";\r\nimport Title from \"../../Widget/Title/Title\";\r\nimport Input from \"../../Widget/Input/Input\";\r\n\r\nconst Home = () => {\r\n    const [movies, setMovies] = useState([]);\r\n    const [inputValue, setInputValue] = useState(\"Any\");\r\n\r\n    const getMovies = async () => {\r\n        try {\r\n            const response = await fetch(\r\n                `https://practice-lib.onrender.com/movie/list`\r\n            );\r\n            const data = await response.json();\r\n\r\n            setMovies(data);\r\n        } catch (error) {\r\n            console.log(\"Catch error :\", error);\r\n        }\r\n    };\r\n\r\n    const getMoviesForQuery = async (value) => {\r\n        try {\r\n            const response = await fetch(\r\n                `https://practice-lib.onrender.com/movie/list/${value}`\r\n            );\r\n            const data = await response.json();\r\n\r\n            setMovies(data);\r\n            console.log(data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getMovies();\r\n    }, []);\r\n\r\n    const handleInput = (e) => {\r\n        const value = e.target.id;\r\n        setInputValue(value);\r\n\r\n        getMoviesForQuery(value);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.content}>\r\n                <Title />\r\n                <div className={style.input_checker}>\r\n                    <Input onChange={handleInput} value={inputValue}/>\r\n                </div>\r\n                <div className={style.list_info}>\r\n                    {inputValue}\r\n                </div>\r\n                <ul className={style.list}>\r\n                    {movies.map((item) => {\r\n                        return (\r\n                            <li key={item._id}>\r\n                                <Link to={`details/${item._id}`}>\r\n                                    <Card data={item} />\r\n                                </Link>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n                <div className={style.bottom}>\r\n                    <div>Didin’t find the one you looking for?</div>\r\n                    <button>Suggest more</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n\r\n"],"mappings":"kjBAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,MAAK,KAAM,oBAAoB,CACtC,MAAOC,KAAI,KAAM,wBAAwB,CACzC,MAAOC,MAAK,KAAM,0BAA0B,CAC5C,MAAOC,MAAK,KAAM,0BAA0B,CAAC,wFAE7C,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACf,cAA4BN,QAAQ,CAAC,EAAE,CAAC,wCAAjCO,MAAM,eAAEC,SAAS,eACxB,eAAoCR,QAAQ,CAAC,KAAK,CAAC,yCAA5CS,UAAU,eAAEC,aAAa,eAEhC,GAAMC,UAAS,4FAAG,4LAEaC,MAAK,gDAE3B,QAFKC,QAAQ,qCAGKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eAEVP,SAAS,CAACO,IAAI,CAAC,CAAC,iFAEhBC,OAAO,CAACC,GAAG,CAAC,eAAe,aAAQ,CAAC,oEAE3C,kBAXKN,UAAS,0CAWd,CAED,GAAMO,kBAAiB,6FAAG,kBAAOC,KAAK,iLAEPP,MAAK,wDACwBO,KAAK,EACxD,QAFKN,QAAQ,uCAGKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,gBAEVP,SAAS,CAACO,IAAI,CAAC,CACfC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAAC,qFAElBC,OAAO,CAACC,GAAG,cAAO,CAAC,sEAE1B,kBAZKC,kBAAiB,6CAYtB,CAEDnB,SAAS,CAAC,UAAM,CACZY,SAAS,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMS,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAK,CACvB,GAAMF,MAAK,CAAGE,CAAC,CAACC,MAAM,CAACC,EAAE,CACzBb,aAAa,CAACS,KAAK,CAAC,CAEpBD,iBAAiB,CAACC,KAAK,CAAC,CAC5B,CAAC,CAID,mBACI,YAAK,SAAS,CAAEjB,KAAK,CAACsB,SAAU,uBAC5B,aAAK,SAAS,CAAEtB,KAAK,CAACuB,OAAQ,wBAC1B,KAAC,KAAK,IAAG,cACT,YAAK,SAAS,CAAEvB,KAAK,CAACwB,aAAc,uBAChC,KAAC,KAAK,EAAC,QAAQ,CAAEN,WAAY,CAAC,KAAK,CAAEX,UAAW,EAAE,EAChD,cACN,YAAK,SAAS,CAAEP,KAAK,CAACyB,SAAU,UAC3BlB,UAAU,EACT,cACN,WAAI,SAAS,CAAEP,KAAK,CAAC0B,IAAK,UACrBrB,MAAM,CAACsB,GAAG,CAAC,SAACC,IAAI,CAAK,CAClB,mBACI,iCACI,KAAC,IAAI,EAAC,EAAE,mBAAaA,IAAI,CAACC,GAAG,CAAG,uBAC5B,KAAC,IAAI,EAAC,IAAI,CAAED,IAAK,EAAG,EACjB,EAHFA,IAAI,CAACC,GAAG,CAIZ,CAEb,CAAC,CAAC,EACD,cACL,aAAK,SAAS,CAAE7B,KAAK,CAAC8B,MAAO,wBACzB,qBAAK,4CAAqC,EAAM,cAChD,wBAAQ,cAAY,EAAS,GAC3B,GAEJ,EACJ,CAEd,CAAC,CAED,cAAe1B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}