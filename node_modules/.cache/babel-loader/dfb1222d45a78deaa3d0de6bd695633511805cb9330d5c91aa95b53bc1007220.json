{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/babci/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/suggest-me/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import style from\"./Details.module.scss\";import DetailsProp from\"../../Components/UI/DetailsProp/DetailsProp\";import ReversDetailsProp from\"../../Components/UI/ReversDetailsProp/ReversDetailsProp\";import{useParams}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Details=function Details(){var _movie$rating;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var params=useParams();useEffect(function(){var getMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://practice-lib.onrender.com/movie/\".concat(params.id));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setMovie(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getMovie(){return _ref.apply(this,arguments);};}();getMovie();},[params]);var getStringGenres=function getStringGenres(){var _movie$genres;return(_movie$genres=movie.genres)===null||_movie$genres===void 0?void 0:_movie$genres.map(function(genre){return genre.name;}).join(\", \");};var getStringDate=function getStringDate(movieDate){var string=\"\";if(!movieDate){return string;}var date=new Date(movieDate);string=\"\".concat(date.getFullYear(),\"-\").concat(date.getMonth(),\"-\").concat(date.getDate());return string;};return/*#__PURE__*/_jsx(\"div\",{className:style.container,children:/*#__PURE__*/_jsxs(\"div\",{className:style.content,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:style.large_image,src:movie.backdrop,alt:\"Large\"}),/*#__PURE__*/_jsxs(\"div\",{className:style.title_box,children:[/*#__PURE__*/_jsx(\"div\",{className:style.title_genre,children:getStringGenres(movie.genres)}),/*#__PURE__*/_jsx(\"div\",{className:style.title_name,children:movie.title})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.film_content,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:style.film_image,src:movie.poster,alt:\"SmallAve\"})}),/*#__PURE__*/_jsxs(\"div\",{className:style.prop_list,children:[/*#__PURE__*/_jsx(ReversDetailsProp,{label:movie.tagline,value:movie.description}),/*#__PURE__*/_jsx(\"div\",{className:style.rate_details,children:/*#__PURE__*/_jsx(DetailsProp,{isRate:true,label:\"Rate\",value:(_movie$rating=movie.rating)===null||_movie$rating===void 0?void 0:_movie$rating.toFixed(1)})}),/*#__PURE__*/_jsx(DetailsProp,{label:\"Type\",value:movie.type}),/*#__PURE__*/_jsx(DetailsProp,{label:\"Release Date\",value:getStringDate(movie.date)}),/*#__PURE__*/_jsx(DetailsProp,{label:\"Run time\",value:movie.runtime}),/*#__PURE__*/_jsx(DetailsProp,{label:\"Genres\",value:getStringGenres(movie.genres)})]})]})]})});};export default Details;","map":{"version":3,"names":["style","DetailsProp","ReversDetailsProp","useParams","useEffect","useState","Details","movie","setMovie","params","getMovie","fetch","id","response","json","data","console","log","getStringGenres","genres","map","genre","name","join","getStringDate","movieDate","string","date","Date","getFullYear","getMonth","getDate","container","content","large_image","backdrop","title_box","title_genre","title_name","title","film_content","film_image","poster","prop_list","tagline","description","rate_details","rating","toFixed","type","runtime"],"sources":["C:/Users/babci/OneDrive/Документы/GitHub/suggest-me/src/Pages/Details/Details.jsx"],"sourcesContent":["import style from \"./Details.module.scss\";\r\nimport DetailsProp from \"../../Components/UI/DetailsProp/DetailsProp\"\r\nimport ReversDetailsProp from \"../../Components/UI/ReversDetailsProp/ReversDetailsProp\"\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Details = () => {\r\n    const [movie, setMovie] = useState({});\r\n\r\n    const params = useParams();\r\n\r\n    useEffect(() => {\r\n        const getMovie = async () => {\r\n            try {\r\n                const response = await fetch(\r\n                    `https://practice-lib.onrender.com/movie/${params.id}`\r\n                );\r\n                const data = await response.json();\r\n\r\n                setMovie(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        };\r\n\r\n        getMovie();\r\n    }, [params]);\r\n\r\n    const getStringGenres = () => {\r\n        return movie.genres?.map((genre) => genre.name).join(\", \");\r\n    };\r\n\r\n    const getStringDate = (movieDate) => {\r\n        let string = \"\";\r\n\r\n        if (!movieDate) {\r\n            return string;\r\n        }\r\n\r\n        const date = new Date(movieDate);\r\n        string = `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}`;\r\n\r\n        return string;\r\n    };\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.content}>\r\n                <div>\r\n                    <img className={style.large_image} src={movie.backdrop} alt=\"Large\"/>\r\n                    <div className={style.title_box}>\r\n                        <div className={style.title_genre}>\r\n                            {getStringGenres(movie.genres)}\r\n                        </div>\r\n                        <div className={style.title_name}>\r\n                            {movie.title}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={style.film_content}>\r\n                    <div>\r\n                        <img className={style.film_image} src={movie.poster} alt=\"SmallAve\"/>\r\n                    </div>\r\n                    <div className={style.prop_list}>\r\n                        <ReversDetailsProp label={movie.tagline} value={movie.description} />\r\n                        <div className={style.rate_details}>\r\n                            <DetailsProp\r\n                                isRate={true}\r\n                                label={\"Rate\"}\r\n                                value={movie.rating?.toFixed(1)}\r\n                            />\r\n                        </div>\r\n                        <DetailsProp label={\"Type\"} value={movie.type} />\r\n                        <DetailsProp\r\n                            label={\"Release Date\"}\r\n                            value={getStringDate(movie.date)}\r\n                        />\r\n                         <DetailsProp label={\"Run time\"} value={movie.runtime} />\r\n                        <DetailsProp\r\n                            label={\"Genres\"}\r\n                            value={getStringGenres(movie.genres)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Details;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}